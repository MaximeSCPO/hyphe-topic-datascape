<div layout="row" flex>

  <!-- (Hidden) Column: Web entities -->
  <div flex="{{flexColWebentities}}" class="flex-transition" layout="column">
  </div>

  <!-- Column: Left Handle -->
  <div ng-style="{'width': widthLeftHandle+'px'}" class="flex-transition" layout="column" layout-align="center left" md-colors="{background: 'default-background-50-.2'}" ng-click="transition('webentities')">
    <md-button class="handle-button md-primary">
      <md-icon aria-label="left">chevron_left</md-icon>
      <div class="left-handle-text">Explore Web Entities</div>
    </md-button>
  </div>

  <!-- Column: Map -->
  <div flex="{{flexColMap}}" class="flex-transition" layout="column">
    <!-- <div>
      <img src="res/logo.png">
    </div> -->
    <div flex layout id="sigmaContainer"><div layout layout-fill layout-align="center center">LOADING NETWORK</div></div>
  </div>

  <!-- Column: Search -->
  <div flex="{{flexColSearch}}" class="flex-transition" layout="column" md-colors="{background: 'default-background-50'}">
    <div layout="column" class="search-container">
      <md-input-container class="md-primary md-icon-float">
        <label>Search</label>
        <md-icon aria-label="search">search</md-icon>
        <input ng-model="searchQuery" type="text" ng-press-enter="execSearchQuery()">
      </md-input-container>
    </div>
    <div flex layout layout-align="center center" class="searchResults">
      <md-list class="md-dense" flex layout layout-fill>
        <md-virtual-repeat-container flex layout layout-fill ng-show="resultsLoaded">
          <div
            class="repeated-item md-long-text"
            md-virtual-repeat="r in results"
            we-id="{{r.web_entity_id}}"
            doc-id="{{r.id}}"
            ng-click="null"
          >
            <h3 class="weName">
              {{r.web_entity}}
            </h3>
            <h4 class="pageUrl" lru="{{r.lru}}">
              {{r.url}}
            </h4>
            <p class="resultHighlight" lru="{{r.lru}}" data-ng-bind-html="resultsHighlighting[r.id].text[0]">
            </p>
          </div>
        </md-virtual-repeat-container>
      </md-list>
    </div>
  </div>

  <!-- Column 3: topics -->
  <div flex="{{flexColTopics}}" class="flex-transition" layout="column">
    <md-toolbar layout="row" class="md-hue-1">
      <div class="md-toolbar-tools">
        <span>Topics</span>
      </div>
    </md-toolbar>
    <md-list flex md-colors="{background: 'default-background-50-.6'}">
      <md-list-item class="sm-1-line" ng-repeat="topic in topics" ng-click="null">
        <div class="md-list-item-text" layout="column">
          {{topic}}
        </div>
    </md-list>
  </div>

  <!-- Column: Right Handle -->
  <div ng-style="{'width': widthRightHandle+'px'}" class="flex-transition" layout="column" md-colors="{background: 'default-background-50-.2'}" ng-click="transition('topics')">
    <md-button class="handle-button md-primary">
      <md-icon aria-label="right">chevron_right</md-icon>
      <div class="right-handle-text">Explore Topics</div>
    </md-button>
  </div>

</div>